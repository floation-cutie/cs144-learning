为什么网站能得到本机的公网IP？NAT协议将私网地址转化为公网IP，发送请求给对应网址
NAT分类：

1. 静态转换，⼿动配置NAT映射表
2. 动态转换，定义外部地址池，动态随机转换，⼀对⼀转换  浪费
3. PAT（Port Address Translation），多对⼀转换  即端⼝多路复⽤技术

#### 链路层概述

● 链路（Link）是指从⼀个节点到相邻节点的⼀段物理线路（有线或⽆线），⽽中间没有任何其他的
**交换节点**  在链路的定义中，交换机不被视为交换节点

骨干网不会进行广播  进行==点对点信道==通信 采用PPP协议
⼴播信道：  ---->  不常用  CSMA/CD协议（⽐如同轴电缆、集线器等组成的⽹络）

网络适配器  和其相应的软件驱动程序 驱动功能：1. 实现网卡寄存器之间数据传递 2. 解析数据包，调用内核协议栈

##### 链路层的三大问题:

###### 1.封装成帧

问题:物理链路上0101的信号，数据包如何表示
封装性  IP头 + 传输层头 + 应用层头 + 应用层数据   --->  数据  在电气规范下如何识别  
**MTU** 最大传输单元 maximum transfer unit ---> 以太网为1500字节  最小帧为46字节  （总共64）        多于MTU会拆包  
协议头与协议尾 
 目标地址 -- 源地址 --  类型() -- 数据 —– 校验
 6字节MAC -- 6字节MAC -- Flag 2字节  —— 46~1500字节 - FCS( frame check sequence)
 Ethernet v2标准 
 以太网上进行**差分曼彻斯特编码**，维持电平的跳变，01010101，直至总线上维持电平信号时，物理层上标志到帧的结束  

ppp协议:无mac地址，有开始和结束标志

###### 2.透明传输

避免栈开始符，结束符与数据内部发生冲突  

进行字节填充        ASCII码  非可视化符号--> 控制符号

EOT --- SOH  **在原始数据所有出现特殊符号EOT，SOH处，用指定的字节填充符标注**  类似于转义符号 
即使原数据中出现字节填充符，也用填充符号进行转义  在链路层上，从节点A到节点B，发送端填充特殊帧，接收端去除特殊帧

HDLC协议 High-Level Data Link Control 通常用于在广域网（WAN）和局域网（LAN）上建立数据链路
每出现五个连续的1，选择用0进行bit填充  完全避免数据载荷的冲突

![image-20240129004503938](C:\Users\WESLEY\AppData\Roaming\Typora\typora-user-images\image-20240129004503938.png)

###### 3.差错控制

FCS 是根据  帧的数据部分  + 首部  进行校验计算得到
1. 奇偶校验
2. **CRC循环冗余校验**

ethernet v2标准

##### PPP协议

用于广域网路由器链路 地址和控制意义不大